(function(){"use strict";var e={7055:function(e,t,n){var a=n(5130),r=n(6768),o=n(4232);const s={class:"lg:w-1-2 md:w-2/3 mx-auto mt-24 bg-neutral-200 p-4 drop-shadow-2xl rounded"},l=(0,r.Fv)('<h1 class="text-4xl text-center">ðŸ¦“</h1><p class="mb-2 p-1"> Please select a <a href="https://en.wikipedia.org/wiki/Time-based_one-time_password" class="text-blue-600 hover:text-blue-400">TOTP</a> aka 2FA QR Code image or screenshot to parse the secret and other parameters. These can then be used to setup TOTP / 2FA in applications like <a href="https://keepassxc.org" class="text-blue-600 hover:text-blue-400">KeepassXC</a>. </p><p class="mb-2 p-1 w-full bg-yellow-100 rounded"> This application works fully client-side and never transfers any data back to the server. </p>',3),i=["onchange"],c={key:0,class:"flex"},u={class:"p-4"},d=(0,r.Lk)("h2",{class:"text-center font-bold"},"Analysed QR Code",-1),h=["src"],f={class:"p-4 border-neutral-300 border-l"},p=(0,r.Lk)("h2",{class:"text-center font-bold"},"Data",-1),b={class:"text-center font-bold align-bottom px-2"},g={class:"grow text-center text-xl text-blue-900 bg-neutral-300 rounded"},m={class:"my-2 p-2 w-full text-sm text-grey-700 whitespace-pre-wrap",title:"Full URL","data-cy":"text:totp-url"},v={key:1,class:"text-center"},x=(0,r.Lk)("div",{class:"text-center text-xs mt-4"},[(0,r.eW)(' Â© 2022, Stefan "eFrane" Graupner'),(0,r.Lk)("br"),(0,r.eW)(" Code is available on "),(0,r.Lk)("a",{href:"https://github.com/eFrane/zebra",class:"text-blue-600 hover:text-blue-400"},"GitHub")],-1);function w(e,t,n,a,w,k){return(0,r.uX)(),(0,r.CE)("div",s,[l,(0,r.Lk)("input",{class:"mb-4 file:rounded file:p-1 file:bg-blue-900 file:text-neutral-300 file:hover:bg-blue-600 file:hover:cursor-pointer",type:"file",name:"qrcode",id:"qrcode",onchange:k.updateQRCode,accept:"image/*","data-cy":"button:qr-upload"},null,8,i),null!==w.imageData?((0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("div",u,[d,(0,r.Lk)("img",{class:"my-2 w-96 h-96 object-scale-down flex-none",src:w.imageData,alt:"The selected QR Code (you did select a QR Code right?)"},null,8,h)]),(0,r.Lk)("div",f,[w.content?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[p,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(w.content.params,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"flex flex-row my-2"},[(0,r.Lk)("h2",b,(0,o.v_)(t),1),(0,r.Lk)("pre",g,(0,o.v_)(e),1)])))),128)),(0,r.Lk)("pre",m,(0,o.v_)(w.content.url),1)],64)):((0,r.uX)(),(0,r.CE)("span",v,(0,o.v_)(w.err),1))])])):(0,r.Q3)("",!0),x])}n(4603),n(7566),n(8721);var k=n(8703),y=n.n(k),C={name:"App",data(){return{imageData:null,blob:null,content:null,err:""}},methods:{reset(){this.imageData=null,this.blob=null,this.content=null,this.err=""},updateQRCode(e){if(this.reset(),1===e.target.files?.length){this.blob=e.target.files[0];const t=new FileReader;t.addEventListener("load",(()=>{this.imageData=t.result,this.readQRCode()})),t.readAsDataURL(this.blob)}},readQRCode(){createImageBitmap(this.blob).then((e=>{const t=new Image(e.width,e.height);t.src=this.imageData;const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const a=n.getContext("2d");a.drawImage(t,0,0);const r=a.getImageData(0,0,e.width,e.height),o=y()(r.data,e.width,e.height);try{const e=new URL(o.data),t={};for(const[n,a]of e.searchParams)t[n]=a;this.content={url:o.data,params:t}}catch(s){this.err="The QR code does not seem to contain a valid 2FA authenticator URL."}})).catch((e=>{this.err=e}))}}},L=n(1241);const R=(0,L.A)(C,[["render",w]]);var O=R;(0,a.Ef)(O).mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,o<s&&(s=o));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,s=a[0],l=a[1],i=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(i)var u=i(n)}for(t&&t(a);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkzebra"]=self["webpackChunkzebra"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(7055)}));a=n.O(a)})();
//# sourceMappingURL=app.e8a9f73d.js.map